<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content-slider="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content-slider="ie=edge">
    <title>Happy Camp[er]</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous">
    </script>

    <link rel="stylesheet" href="../public/css/jquery-ui.css">
    <!-- <script src="../public/js/bootstrap-datepicker.js"></script>
    <link href="../public/css/bootstrap-datepicker.css"> -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="../public/css/landPage.css">
</head>

<body>

    <main id="mainPage">


        <!-- Search Page for choosing a location -->
        <section id="searchPage">

            <div class="content-slider" id="parkSearch">

                <div class="container">

                    <div class="row">

                        <div class="col-12">

                            <h2>Find a destination by</h2>

                        </div>

                    </div>

                    <div class="row searchRow">

                        <div class="col-12">

                            <div class="searchBarWrapper row">

                                <div class="search-box col-12">

                                    <input type="text" placeholder="Search" class="searchInput">

                                    <div id="searchBy">

                                        <input type="checkbox" id="parameterRegion" class="searchParameters col-5" name="region"
                                            value="region" checked>

                                    </div>

                                    <button id="searchButton">

                                        <!-- Icon for Searchbar -->
                                        <i class="fa fa-search" aria-hidden="true"></i>
                                    </button>


                                </div>

                            </div>


                        </div>
                        
                    </div>

                    <div class="row calendarRow">

                        <div class="col-12">

                            <div class="calendarWrapper row">

                                <div class="search-box col-12">


                                    <div class="input-daterange " id="datepicker">

                                        <!-- Input fields for start and end date -->
                                        <input type="text" placeholder="Return Date" class="calendarInput">

                                        <input type="text" placeholder="Start Date" class="calendarInput2">

                                    

                                    <button class="calendarButton input-group-addon">

                                        <!-- Icon for the Calendar -->
                                        <i class="fas fa-calendar-alt"></i>

                                    </button>

                                    </div>

                                </div>

                            </div>


                        </div>

                    </div>

                </div>

            </div>

        </section>




        <!-- List Results page -->

        <section id="listResults">

            <div class="content-slider">


                <h2>Results <i class="fas fa-campground"></i></h2>


                <p>Information on how we can assist with short day to weekend trips trips</p>



            </div>


        </section>



        <!-- Park Profile Page -->

        <section id="parkProfile">

            <div class="content-slider">

                <h2>Thinking of something longer... <i class="fas fa-campground"></i></h2>

                <p>Information on how we can assist with week long trips</p>


            </div>


        </section>


    </main>



    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>

</html>

<script src="../public/js/jquery-ui.js"></script>

<script>


    $( document ).ready(function() {

    console.log( "ready!" );

    $('#searchButton').toggleClass("animate");

    $(".searchInput").toggleClass("active").focus;

    $("#searchBy").toggleClass("active").focus;

    
    $(".calendarInput").toggleClass("active").focus;

    $(".calendarInput2").toggleClass("active").focus;

    $(".calendarbutton").toggleClass("animate")

$("section#searchPage").css("width", "70%");

$("section#listResults").css("width", "15%");

$("section#parkProfile").css("width", "15%");



});

    //   Search Button
$("#searchButton").click(function () {

$(".searchInput").toggleClass("active").focus;

$("#searchBy").toggleClass("active").focus;

$(this).toggleClass("animate");

$(".searchInput").val("");

        // Switch page function
$("section#searchPage").css("width", "70%");

$("section#listResults").css("width", "15%");

$("section#parkProfile").css("width", "15%");

    // Roll up calendar
$(".calendarInput").toggleClass("active").focus;

$(".calendarInput2").toggleClass("active").focus;

 $(".calendarbutton").toggleClass("animate")
    });


    //   Calendar Button
    $(".calendarButton").click(function () {

        $(".calendarInput").toggleClass("active").focus;

        $(".calendarInput2").toggleClass("active").focus;

        $(this).toggleClass("animate");

        $(".calendarInput").val("");

        $(".calendarInput2").val("");

        // Switch page function
$("section#searchPage").css("width", "70%");

$("section#listResults").css("width", "15%");

$("section#parkProfile").css("width", "15%");


        // SearchBar Roll up 

$('#searchButton').toggleClass("animate");

$(".searchInput").toggleClass("active").focus;

$("#searchBy").toggleClass("active").focus;
    });

    //   Date Picker
    $("#datepicker").datepicker({

        inline: true,

        format: "mm/dd/yyyy",

        todayBtn: "linked",

        clearBtn: true,

        multidate: false,

        autoclose: true,

        todayHighlight: true,

        toggleActive: true
    });


    // Functions for movement between tabs
var phase_triggers = [$("#searchButton")];

var pages_viewed = [$("section#searchPage")];

function check_page_viewed(pages_viewed)  {

    if (pages_viewed.length === 1) {

        pages_viewed.push($("section#listResults"));

    }   else if (pages_viewed.includes($("section#parkProfile")) === false)    {pages_viewed.push($("section#parkProfile"));};

    return pages_now_viewed(pages_viewed);
};

function pages_now_viewed(pages_viewed)    {
for (i=0; i < pages_viewed.length; i++)    {
    pages_viewed[i].click((event) =>   {
        console.log(pages_viewed);
        switch (event.target.id)    {
            case "searchPage":
                phase1(pages_viewed);
                break;
            case "listResults":
                phase2(pages_viewed);
                break;
            case "parkProfile":
                phase3(pages_viewed);
                break;
            default:
                break;
}})}};

function phase1(pages_viewed)   {

    $("section#searchPage").css("width", "70%");

    $("section#listResults").css("width", "15%");

    $("section#parkProfile").css("width", "15%");

    // $("button#resultsButton").css("display", "none");

    if (pages_viewed.length < 3)  
    {   
        check_page_viewed(pages_viewed);    
        
    };

};

function phase2(pages_viewed)   {
    $("section#searchPage").css("width", "15%");
    $("section#listResults").css("width", "70%");
    // $("button#r").css("display", "block");
    $("section#parkProfile").css("width", "15%");
    if (pages_viewed.length < 3)  {   check_page_viewed(pages_viewed);    };
};

function phase3(pages_viewed)   {
    // $("#resultsButton").css("display", "none");
    $("section#searchPage").css("width", "15%");
    $("section#listResults").css("width", "15%");
    $("section#parkProfile").css("width", "70%");
    if (pages_viewed.length < 3)  {   check_page_viewed(pages_viewed);    };
};

for (i=0; i < phase_triggers.length; i++)   {

    phase_triggers[i].click((event) => {

        event.preventDefault();

        switch (event.target.id)    {

            case "searchButton":

                phase2(pages_viewed);

                break;

            case "resultsButton":

                phase3(pages_viewed);

                break;

            default:

                break;
}})};

</script>